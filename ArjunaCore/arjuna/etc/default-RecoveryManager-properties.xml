<?xml version="1.0" encoding="ISO-8859-1"?>
<!--
  JBoss, Home of Professional Open Source
  Copyright 2006, Red Hat Middleware LLC, and individual contributors
  as indicated by the @author tags.
  See the copyright.txt in the distribution for a
  full listing of individual contributors.
  This copyrighted material is made available to anyone wishing to use,
  modify, copy, or redistribute it subject to the terms and conditions
  of the GNU Lesser General Public License, v. 2.1.
  This program is distributed in the hope that it will be useful, but WITHOUT A
  WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
  PARTICULAR PURPOSE.  See the GNU Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General Public License,
  v.2.1 along with this distribution; if not, write to the Free Software
  Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
  MA  02110-1301, USA.

  (C) 2005-2006,
  @author JBoss Inc.
-->
<!-- $Id: default-RecoveryManager-properties.xml 2342 2006-03-30 13:06:17Z  $ -->
<!--
  This is the special properties file for the RecoveryManager - its settings
  add to and override those in the regular arjuna properties file
-->
<transaction-service
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:noNamespaceSchemaLocation="transaction-service-2_0.xsd">
    <properties name="recoverymanager" depends="arjuna">
      <!--
        Periodic recovery modules to use.  Invoked in sort-order of names.
       	Check http://www.jboss.org/community/docs/DOC-10788 for more information
       	on recovery modules and their configuration when running in various
       	deployments.
      -->
      <property
        name="com.arjuna.ats.arjuna.recovery.recoveryExtension1"
        value="com.arjuna.ats.internal.arjuna.recovery.AtomicActionRecoveryModule"/>
      <property
        name="com.arjuna.ats.arjuna.recovery.recoveryExtension2"
        value="com.arjuna.ats.internal.txoj.recovery.TORecoveryModule"/>
      <!--
        Expiry scanners to use (order of invocation is random).
        Names must begin with "com.arjuna.ats.arjuna.recovery.expiryScanner"
      -->
      <property
        name="com.arjuna.ats.arjuna.recovery.expiryScannerTransactionStatusManager"
        value="com.arjuna.ats.internal.arjuna.recovery.ExpiredTransactionStatusManagerScanner"/>
        <!-- Enable the following to move logs that cannot be completed by failure recovery. But
        be sure you know what you are doing and why! -->
        <!-- property
            name="com.arjuna.ats.arjuna.recovery.expiryScannerAtomicActionLog" value="com.arjuna.ats.internal.arjuna.recovery.AtomicActionExpiryScanner"/ -->

      <!--
        The address and port number on which the recovery manager listens
        If running within an AS then the address the AS is bound to (jboss.bind.address) takes precedence
      -->
      <property
        name="com.arjuna.ats.arjuna.recovery.recoveryPort"
        value="4712"/>
      <property
        name="com.arjuna.ats.arjuna.recovery.recoveryAddress"
        value=""/>

      <!--
        Use this to fix the port on which the TransactionStatusManager listens,
        The default behaviour is to use any free port.
      -->
      <property
        name="com.arjuna.ats.arjuna.recovery.transactionStatusManagerPort"
        value="0"/>

      <!--
        Use this to fix the address on which the TransactionStatusManager binds,
        The default behaviour is to use the loopback address (ie localhost).
        If running within an AS then the address the AS is bound to (jboss.bind.address) takes precedence
      -->
      <property
        name="com.arjuna.ats.arjuna.recovery.transactionStatusManagerAddress"
        value=""/>

        <!--
          For cases where the recovery manager is in process with the transaction manager and nothing else uses
          the ObjectStore, it is possible to disable the socket based recovery listener by setting this to NO.
          Caution: use of this property can allow multiple recovery processes to run on the same ObjectStore
          if you are not careful. That in turn can lead to incorrect transaction processing. Use with care.
        -->
      <property
          name="com.arjuna.ats.arjuna.recovery.recoveryListener"
          value="YES"/>

    </properties>
</transaction-service>
