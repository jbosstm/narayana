<?xml version="1.0" encoding="UTF-8"?>
<deployment xmlns="urn:jboss:bean-deployer:2.0">

    <bean name="XTSService" class="org.jboss.jbossts.XTSService">
        <annotation>@org.jboss.aop.microcontainer.aspects.jmx.JMX(name="jboss.xts:service=XTSService", exposedInterface=com.arjuna.ats.jbossatx.jta.TransactionManagerServiceMBean.class, registerDirectly=true)</annotation>

       <depends>jboss.web:service=WebServer</depends>
       <depends>jboss:service=TransactionManager</depends>
       <property name="mbeanServer"><inject bean="JMXKernel" property="mbeanServer"/></property>


        <property name="httpBindInetAddress">
           <value-factory bean="ServiceBindingManager"
                           method="getInetAddressBinding" >
              <parameter>jboss.web:service=WebServer</parameter>
           </value-factory>
        </property>

        <property name="httpPort">
           <value-factory bean="ServiceBindingManager"
                           method="getIntBinding" >
              <parameter>jboss.web:service=WebServer</parameter>
           </value-factory>
        </property>

        <property name="httpsPort">
           <value-factory bean="ServiceBindingManager"
                           method="getIntBinding" >
              <parameter>jboss.web:service=WebServer</parameter>
               <parameter>HttpsConnector</parameter>
           </value-factory>
        </property>

   </bean>

</deployment>