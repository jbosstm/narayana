<?xml version="1.0" encoding="UTF-8" ?>

<project name="rhq-plugin" default="maven:package" basedir=".">

	<property name="modulename" value="jbossts-jopr-plugin"/>
	<property name="component-module-list" value="${modulename}"/>
	<import file="../sharedbuild.xml"/>

	<property name="version" value="1.0.0.SNAPSHOT"/>
	<property name="maven.project.build.directory" value="target"/>
	<property name="pluginjar" value="${basedir}/${maven.project.build.directory}/${modulename}.jar"/>

	<target name="maven:package" depends="clean">
		<exec executable="mvn" dir="${basedir}">
			<arg value="-Dversion=${version}"/>
			<arg value="-DartifactId=${modulename}"/>
			<arg value="package"/>
		</exec>
	</target>

	<target name="dist" depends="maven:package">
		<copy file="${pluginjar}" todir="../install/bin"/>
	</target>

	<target name="clean">
		<exec executable="mvn" dir="${basedir}">
			<arg value="clean"/>
		</exec>
		<delete dir="build"/>
	</target>
</project> 
